<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PingFang SC:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"zhangruochi.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="CS221 course notes of Search problem in AI">
<meta property="og:type" content="article">
<meta property="og:title" content="AI - Search">
<meta property="og:url" content="https://zhangruochi.com/AI-Search/2020/02/06/index.html">
<meta property="og:site_name" content="RUOCHI.AI">
<meta property="og:description" content="CS221 course notes of Search problem in AI">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhangruochi.com/AI-Search/2020/02/06/AI.png">
<meta property="og:image" content="https://zhangruochi.com/AI-Search/2020/02/06/Search.png">
<meta property="og:image" content="https://zhangruochi.com/AI-Search/2020/02/06/dp.png">
<meta property="og:image" content="https://zhangruochi.com/AI-Search/2020/02/06/dp1.png">
<meta property="og:image" content="https://zhangruochi.com/AI-Search/2020/02/06/dp2.png">
<meta property="og:image" content="https://zhangruochi.com/AI-Search/2020/02/06/dp3.png">
<meta property="og:image" content="https://zhangruochi.com/AI-Search/2020/02/06/ufs.png">
<meta property="article:published_time" content="2020-02-06T12:56:08.000Z">
<meta property="article:modified_time" content="2021-12-31T07:10:56.000Z">
<meta property="article:author" content="Ruochi Zhang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhangruochi.com/AI-Search/2020/02/06/AI.png">

<link rel="canonical" href="https://zhangruochi.com/AI-Search/2020/02/06/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>AI - Search | RUOCHI.AI</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">RUOCHI.AI</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://zhangruochi.com/AI-Search/2020/02/06/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ruochi Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RUOCHI.AI">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AI - Search
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-06 20:56:08" itemprop="dateCreated datePublished" datetime="2020-02-06T20:56:08+08:00">2020-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-12-31 15:10:56" itemprop="dateModified" datetime="2021-12-31T15:10:56+08:00">2021-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Artificial-Intelligence/" itemprop="url" rel="index"><span itemprop="name">Artificial Intelligence</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/AI-Search/2020/02/06/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/AI-Search/2020/02/06/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <div class="post-description">CS221 course notes of Search problem in AI</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <center>
<img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="AI.png" width = "70%" height="70%">
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
AI
</div>
</center>
<h2 id="applications">Applications</h2>
<h3 id="route-finding">Route finding</h3>
<ul>
<li>Route finding is perhaps the most canonical example of a search problem. We are given as the input a map, a source point and a destination point. The goal is to output a sequence of actions (e.g., go straight, turn left, or turn right) that will take us from the source to the destination.</li>
<li>We might evaluate action sequences based on an objective (distance, time, or pleasantness).</li>
</ul>
<h3 id="robot-motion-planning">Robot motion planning</h3>
<ul>
<li>In robot motion planning, the goal is get a robot to move from one position/pose to another. The desired output trajectory consists of individual actions, each action corresponding to moving or rotating the joints by a small amount.</li>
<li>Again, we might evaluate action sequences based on various resources like time or energy.</li>
</ul>
<h2 id="search-problems">Search Problems</h2>
<ul>
<li>Recall the modeling-inference-learning paradigm. For reflex-based classifiers, modeling consisted of choos- ing the features and the neural network architecture; inference was trivial forward computation of the output given the input; and learning involved using stochastic gradient descent on the gradient of the loss function, which might involve backpropagation.</li>
<li>Today, we will focus on the modeling and inference part of search problems. The next lecture will cover learning.</li>
</ul>
<h3 id="definitions">Definitions</h3>
<ul>
<li><span class="math inline">\(S_{start}\)</span>: staring state$</li>
<li>Actions(s): possible actions</li>
<li>Cons(s,a): action cost</li>
<li>Succ(s,a): successor</li>
<li>IsEnd(s): reached end state?</li>
</ul>
<p>We will build what we will call a <strong>search tree</strong>. The root of the tree is the start state <code>$S_&#123;start&#125;$</code>, and the leaves are the end states (IsEnd(s) is true). Each edge leaving a node s corresponds to a possible action <code>$a \in \text&#123;Actions(s)&#125;$</code> that could be performed in state s. The edge is labeled with the action and its cost, written <code>a : Cost(s,a)</code>. The action leads deterministically to the successor state <code>Succ(s,a)</code>, represented by the child node.</p>
<p>In summary, each root-to-leaf path represents a possible action sequence, and the sum of the costs of the edges is the cost of that path. The goal is to find the root-to-leaf path that ends in a valid end state with minimum cost.</p>
<p>Note that in code, we usually do not build the search tree as a concrete data structure. The search tree is used merely to visualize the computation of the search algorithms and study the structure of the search problem.</p>
<h2 id="transportation-example">Transportation example</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Street with blocks numbered 1 to n.</span><br><span class="line"></span><br><span class="line">Walking from s to s + 1 takes 1 minute.</span><br><span class="line"></span><br><span class="line">Taking a magic tram from s to 2s takes 2 minutes. </span><br><span class="line"></span><br><span class="line">How to travel from 1 to n in the least time?</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TransportationProblem</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, N</span>):</span></span><br><span class="line">        <span class="comment"># N = number of blocks</span></span><br><span class="line">        self.N = N</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">startState</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEnd</span>(<span class="params">self, state</span>):</span></span><br><span class="line">        <span class="keyword">return</span> state == self.N</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">succAndCost</span>(<span class="params">self, state</span>):</span></span><br><span class="line">        <span class="comment"># return list of (action, newState, cost) triples</span></span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">if</span> state+<span class="number">1</span>&lt;=self.N:</span><br><span class="line">            result.append((<span class="string">&#x27;walk&#x27;</span>, state+<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">if</span> state*<span class="number">2</span>&lt;=self.N:</span><br><span class="line">            result.append((<span class="string">&#x27;tram&#x27;</span>, state*<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<p>Now let’s put modeling aside and suppose we are handed a search problem. How do we construct an algorithm for finding a minimum cost path (not necessarily unique)?</p>
<h2 id="tree-search">Tree search</h2>
<h3 id="backtracking-search">Backtracking search</h3>
<p>If <code>b</code> actions per state, maximum depth is <code>D</code> actions: - Memory: <span class="math inline">\(O(D)\)</span> (small) - Time: <span class="math inline">\(O(b^D)\)</span> (huge) [<span class="math inline">\(2^{50}\)</span> = 1125899906842624]</p>
<p>We will start with backtracking search, the simplest algorithm which just tries all paths. The algorithm is called recursively on the <code>current state s</code> and the path leading up to that state. If we have reached a goal, then we can update the minimum cost path with the current path. Otherwise, we consider <code>all possible actions a from state s</code>, and recursively search each of the possibilities.</p>
<p>Graphically, backtracking search performs a depth-first traversal of the search tree. What is the time and memory complexity of this algorithm? To get a simple characterization, assume that the search tree has maximum depth D (each path consists of D actions/edges) and that there are b available actions per state (the branching factor is b). It is easy to see that backtracking search only requires <strong>O(D) memory</strong> (to maintain the stack for the recurrence), which is as good as it gets.</p>
<p>However, the running time is proportional to the number of nodes in the tree, since the algorithm needs to check each of them. The number of nodes is</p>
<p><span class="math display">\[1 + b + b^{2} + \cdots + b^{D} = \frac{b^{D+1} - 1}{B-1} = O(b^{D})\]</span></p>
<p>Note that the total number of nodes in the search tree is on the same order as the number of leaves, so the cost is always dominated by the last level.</p>
<h3 id="depth-first-search">Depth-first search</h3>
<ul>
<li>Assume action costs Cost(s, a) = 0.</li>
<li><strong>Idea</strong>: Backtracking search + stop when find the first end state.</li>
<li>If b actions per state, maximum depth is D actions:</li>
<li>Memory: <span class="math inline">\(O(D)\)</span> (small)</li>
<li>Time: <span class="math inline">\(O(b^D)\)</span> worst case but could be much better if solutions are easy to find.</li>
</ul>
<p>Backtracking search will always work (i.e., find a minimum cost path), but there are cases where we can do it faster. But in order to do that, we need some additional assumptions — there is no free lunch. Suppose we make the assumption that all the action costs are zero. In other words, all we care about is finding a valid action sequence that reaches the goal. Any such sequence will have the minimum cost: zero.</p>
<p>In this case, we can just modify backtracking search to not keep track of costs and then stop searching as soon as we reach a goal. The resulting algorithm is depth-first search (DFS), which should be familiar to you. The worst time and space complexity are of the same order as backtracking search. In particular, if there is no path to an end state, then we have to search the entire tree.</p>
<h3 id="breadth-first-search">Breadth-first search</h3>
<ul>
<li>Assume action costs Cost(s, a) = c for some c &gt;= 0.</li>
<li><strong>Idea</strong>: explore all nodes in order of increasing depth.</li>
<li>Legend: b actions per state, solution has d actions</li>
<li>Memory: <span class="math inline">\(O(b^{d})\)</span> (small)</li>
<li>Time: <span class="math inline">\(O(b^d)\)</span> (better, depends on d, not D).</li>
</ul>
<p>Breadth-first search (BFS), which should also be familiar, makes a less stringent assumption, that all the action costs are the same non-negative number. This effectively means that all the paths of a given length have the same cost. BFS maintains a <code>queue</code> of states to be explored. It pops a state off the queue, then pushes its successors back on the queue.</p>
<h3 id="dfs-with-iterative-deepening">DFS with iterative deepening</h3>
<ul>
<li>Assume action costs Cost(s, a) = c for some c ≥ 0.</li>
<li>Modify DFS to stop at a maximum depth.</li>
<li>Call DFS for maximum depths 1,2,....</li>
<li>Memory: <span class="math inline">\(O(d)\)</span> (sabed!)</li>
<li>Time: <span class="math inline">\(O(b^d)\)</span> (same as BFS).</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrackingSearch</span>(<span class="params">problem</span>):</span></span><br><span class="line">    <span class="comment"># Best solution found so far (dictionary because of python scoping technicality)</span></span><br><span class="line">    best = &#123;</span><br><span class="line">        <span class="string">&#x27;cost&#x27;</span>: <span class="built_in">float</span>(<span class="string">&#x27;+inf&#x27;</span>),</span><br><span class="line">        <span class="string">&#x27;history&#x27;</span>: <span class="literal">None</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">recurse</span>(<span class="params">state, history, totalCost</span>):</span></span><br><span class="line">        <span class="comment"># At state, having undergone history, accumulated</span></span><br><span class="line">        <span class="comment"># totalCost.</span></span><br><span class="line">        <span class="comment"># Explore the rest of the subtree under state.</span></span><br><span class="line">        <span class="keyword">if</span> problem.isEnd(state):</span><br><span class="line">            <span class="comment"># Update the best solution so far</span></span><br><span class="line">            <span class="keyword">if</span> totalCost&lt;best[<span class="string">&#x27;cost&#x27;</span>]:</span><br><span class="line">                best[<span class="string">&#x27;cost&#x27;</span>] = totalCost</span><br><span class="line">                best[<span class="string">&#x27;history&#x27;</span>] = history</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="comment"># Recurse on children</span></span><br><span class="line">        <span class="keyword">for</span> action, newState, cost <span class="keyword">in</span> problem.succAndCost(state):</span><br><span class="line">            recurse(newState, history+[(action, newState, cost)], totalCost+cost)</span><br><span class="line">    recurse(problem.startState(), history=[], totalCost=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> (best[<span class="string">&#x27;cost&#x27;</span>], best[<span class="string">&#x27;history&#x27;</span>])</span><br></pre></td></tr></table></figure>
<center>
<img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="Search.png" width = "70%" height="70%">
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
Tree search algorithms
</div>
</center>
<h2 id="dynamic-programming">Dynamic programming</h2>
<p>backtracking search with memoization — potentially exponential savings</p>
<center>
<img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="dp.png" width = "70%" height="70%">
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
Dynamic programming
</div>
</center>
<ul>
<li>Now let us see if we can avoid the exponential time. If we consider the simple route finding problem of traveling from city 1 to city n, the search tree grows exponentially with n.</li>
<li>However, upon closer inspection, we note that this search tree has a lot of <strong>repeated structures</strong>. Moreover (and this is important), <strong>the future costs (the minimum cost of reaching a end state) of a state only depends on the current city!</strong> So therefore, all the subtrees rooted at city 5, for example, have the same minimum cost!</li>
<li>If we can just do that computation once, then we will have saved big time. This is the central idea of dynamic programming.</li>
</ul>
<center>
<img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="dp1.png" width = "70%" height="70%">
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
Dynamic programming
</div>
</center>
<center>
<img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="dp2.png" width = "70%" height="70%">
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
Dynamic programming
</div>
</center>
<ul>
<li>The dynamic programming algorithm is exactly backtracking search with one twist. At the beginning of the function, we check to see if we’ve already computed the future cost for s. If we have, then we simply return it (which takes constant time if we use a hash map). Otherwise, we compute it and save it in the cache so we don’t have to recompute it again. In this way, for every state, we are only computing its value once.</li>
<li>One important point is that the graph must be acyclic for dynamic programming to work. If there are cycles, the computation of a future cost for s might depend on <span class="math inline">\(s^{\prime}\)</span> which might depend on s. We will infinite loop in this case. To deal with cycles, we need uniform cost search, which we will describe later.</li>
</ul>
<center>
<img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="dp3.png" width = "70%" height="70%">
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
Dynamic programming
</div>
</center>
<ul>
<li>This is perhaps the most important idea of this lecture: <strong>state</strong>. A state is a summary of all the past actions sufficient to choose future actions optimally.</li>
<li>What state is really about is forgetting the past. We can’t forget everything because the action costs in the future might depend on what we did on the past. The more we forget, the fewer states we have, and the more efficient our algorithm. So the name of the game is to find the minimal set of states that suffice. It’s a fun game.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dynamicProgramming</span>(<span class="params">problem</span>):</span></span><br><span class="line">    cache = &#123;&#125; <span class="comment"># state -&gt; futureCost(state)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">futureCost</span>(<span class="params">state</span>):</span></span><br><span class="line">        <span class="comment"># Base case</span></span><br><span class="line">        <span class="keyword">if</span> problem.isEnd(state):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> state <span class="keyword">in</span> cache: <span class="comment"># Exponential savings</span></span><br><span class="line">            <span class="keyword">return</span> cache[state]</span><br><span class="line">        <span class="comment"># Actually doing work</span></span><br><span class="line">        result = <span class="built_in">min</span>(cost+futureCost(newState) \</span><br><span class="line">                <span class="keyword">for</span> action, newState, cost <span class="keyword">in</span> problem.succAndCost(state))</span><br><span class="line">        cache[state] = result</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> (futureCost(problem.startState()), [])</span><br></pre></td></tr></table></figure>
<h3 id="uniform-cost-search">Uniform cost search</h3>
<ul>
<li>UCS enumerates states in order of increasing past cost.</li>
<li>All action costs are non-negative: Cost(s, a) ≥ 0.</li>
</ul>
<center>
<img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="ufs.png" width = "70%" height="70%">
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">
Uniform cost search
</div>
</center>
<ul>
<li>The key idea that uniform cost search (UCS) uses is to compute the past costs in order of increasing past cost. To make this efficient, we need to make an important assumption that all action costs are non-negative.</li>
<li>This assumption is reasonable in many cases, but doesn’t allow us to handle cases where actions have payoff. To handle negative costs (positive payoffs), we need the Bellman-Ford algorithm. When we talk about value iteration for MDPs, we will see a form of this algorithm.</li>
<li>Note: those of you who have studied algorithms should immediately recognize UCS as Dijkstra’s algorithm. Logically, the two are indeed equivalent. There is an important implementation difference: UCS takes as input a search problem, which implicitly defines a large and even infinite graph, whereas Dijkstra’s algorithm (in the typical exposition) takes as input a fully concrete graph. The implicitness is important in practice because we might be working with an enormous graph (a detailed map of world) but only need to find the path between two close by points (Stanford to Palo Alto).</li>
</ul>
<h4 id="high-level-strategy">High-level strategy</h4>
<ul>
<li><strong>Explored</strong>: states we've found the optimal path to</li>
<li><strong>Frontier</strong>: states we've seen, still figuring out how to get there cheaply</li>
<li><strong>Unexplored</strong>: states we haven't seen</li>
</ul>
<p>The general strategy of UCS is to maintain three sets of nodes: explored, frontier, and unexplored. Throughout the course of the algorithm, we will move states from unexplored to frontier, and from frontier to explored. The key invariant is that we have computed the minimum cost paths to all the nodes in the explored set. So when the end state moves into the explored set, then we are done.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">uniformCostSearch</span>(<span class="params">problem</span>):</span></span><br><span class="line">    frontier = util.PriorityQueue()</span><br><span class="line">    frontier.update(problem.startState(), <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># Move from frontier to explored</span></span><br><span class="line">        state, pastCost = frontier.removeMin()</span><br><span class="line">        <span class="keyword">if</span> problem.isEnd(state):</span><br><span class="line">            <span class="keyword">return</span> (pastCost, [])</span><br><span class="line">        <span class="comment"># Push out on the frontier</span></span><br><span class="line">        <span class="keyword">for</span> action, newState, cost <span class="keyword">in</span> problem.succAndCost(state):</span><br><span class="line">            frontier.update(newState, pastCost+cost)</span><br></pre></td></tr></table></figure>
<h2 id="reference">Reference</h2>
<ul>
<li>CS221 course note and ppt <a target="_blank" rel="noopener" href="https://stanford-cs221.github.io/autumn2019/">https://stanford-cs221.github.io/autumn2019/</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/AI-Overview/2020/02/05/" rel="prev" title="AI - Overview">
      <i class="fa fa-chevron-left"></i> AI - Overview
    </a></div>
      <div class="post-nav-item">
    <a href="/Introduction-to-Operating-Systems/2020/02/07/" rel="next" title="Introduction to Operating Systems">
      Introduction to Operating Systems <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#applications"><span class="nav-number">1.</span> <span class="nav-text">Applications</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#route-finding"><span class="nav-number">1.1.</span> <span class="nav-text">Route finding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#robot-motion-planning"><span class="nav-number">1.2.</span> <span class="nav-text">Robot motion planning</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#search-problems"><span class="nav-number">2.</span> <span class="nav-text">Search Problems</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#definitions"><span class="nav-number">2.1.</span> <span class="nav-text">Definitions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#transportation-example"><span class="nav-number">3.</span> <span class="nav-text">Transportation example</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tree-search"><span class="nav-number">4.</span> <span class="nav-text">Tree search</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#backtracking-search"><span class="nav-number">4.1.</span> <span class="nav-text">Backtracking search</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#depth-first-search"><span class="nav-number">4.2.</span> <span class="nav-text">Depth-first search</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#breadth-first-search"><span class="nav-number">4.3.</span> <span class="nav-text">Breadth-first search</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dfs-with-iterative-deepening"><span class="nav-number">4.4.</span> <span class="nav-text">DFS with iterative deepening</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dynamic-programming"><span class="nav-number">5.</span> <span class="nav-text">Dynamic programming</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#uniform-cost-search"><span class="nav-number">5.1.</span> <span class="nav-text">Uniform cost search</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#high-level-strategy"><span class="nav-number">5.1.1.</span> <span class="nav-text">High-level strategy</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference"><span class="nav-number">6.</span> <span class="nav-text">Reference</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ruochi Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">223</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zhangruochi" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhangruochi" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zrc720@gmail.com" title="E-Mail → mailto:zrc720@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://www.healthinformaticslab.org/" title="http:&#x2F;&#x2F;www.healthinformaticslab.org" rel="noopener" target="_blank">HILab</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.shihaizhou.com/" title="http:&#x2F;&#x2F;www.shihaizhou.com" rel="noopener" target="_blank">Rose</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/cherish_CX/" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;cherish_CX&#x2F;" rel="noopener" target="_blank">Chunxia</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ruochi Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'qW3MLcAgcX96sB6qbegeL7rP-gzGzoHsz',
      appKey     : 'GL6JvT9DgGxqYrY5Vj6bXVuv',
      placeholder: "Thank you for your reply",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
